{"ast":null,"code":"var _jsxFileName = \"/home/charliec/Documents/Weather_app/weather-app/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Search from './components/search';\nimport Days from './components/days';\nimport Highlights from './components/highlights';\nimport Today from './components/today';\nimport style from './App.css';\nconst api = {\n  base: 'https://www.metaweather.com/api/location/search/?query=',\n  location: 'https://www.metaweather.com/api/location/',\n  img: 'https://www.metaweather.com/static/img/weather/png/',\n  current: 'https://www.metaweather.com/api/location/search/?lattlong='\n};\n\nfunction App() {\n  const [searchState, setSearchs] = useState({});\n  const [dayStates, setdayStates] = useState({});\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      const latitude = position.coords.latitude;\n      const longitude = position.coords.longitude;\n      console.log(`${api.current}${latitude},${longitude}`);\n      fetch(`${api.current}${latitude},${longitude}`, {\n        mode: 'cors'\n      }).then(response => response.json()).then(data => {\n        let currentLocationWoeid = data[0].woeid;\n        fetch(`${api.location}${currentLocationWoeid}`, {\n          mode: 'cors'\n        }).then(response => response.json()).then(data => {\n          console.log(data);\n          setdayStates({ ...data,\n            searchDisplay: false\n          });\n        });\n      });\n    });\n  }, []);\n\n  const search = e => {\n    if (e.key === 'Enter') {\n      const string = e.target.value;\n      const toSearch = string.charAt(0).toUpperCase() + string.slice(1);\n      fetch(`${api.base}${toSearch}`, {\n        mode: 'cors'\n      }).then(response => response.json()).then(data => {\n        setSearchs(data);\n      });\n    }\n  };\n\n  const select = e => {\n    const woeid = searchState[e.target.id].woeid;\n    console.log(searchState[e.target.id].woeid);\n    fetch(`${api.location}${woeid}`, {\n      mode: 'cors'\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      setdayStates({ ...data,\n        searchDisplay: false\n      });\n    });\n  };\n\n  const displaySearch = () => {\n    setdayStates({ ...dayStates,\n      searchDisplay: true\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, dayStates.searchDisplay ? /*#__PURE__*/React.createElement(Search, {\n    searchEvent: search,\n    searchs: searchState,\n    selected: select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Today, {\n    data: dayStates.consolidated_weather ? dayStates.consolidated_weather[0] : null,\n    title: dayStates.title,\n    click: displaySearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Days, {\n    days: dayStates.consolidated_weather ? dayStates.consolidated_weather.slice(1) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Highlights, {\n    lassName: style.highlights,\n    data: dayStates.consolidated_weather ? dayStates.consolidated_weather[0] : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/charliec/Documents/Weather_app/weather-app/src/App.js"],"names":["React","useState","useEffect","Search","Days","Highlights","Today","style","api","base","location","img","current","App","searchState","setSearchs","dayStates","setdayStates","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","console","log","fetch","mode","then","response","json","data","currentLocationWoeid","woeid","searchDisplay","search","e","key","string","target","value","toSearch","charAt","toUpperCase","slice","select","id","displaySearch","consolidated_weather","title","highlights"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport Search from './components/search';\nimport Days from './components/days';\nimport Highlights from './components/highlights';\nimport Today from './components/today';\nimport style from './App.css';\n\nconst api = {\n  base: 'https://www.metaweather.com/api/location/search/?query=',\n  location:'https://www.metaweather.com/api/location/',\n  img:'https://www.metaweather.com/static/img/weather/png/',\n  current: 'https://www.metaweather.com/api/location/search/?lattlong='\n};\n\n\nfunction App() {\n  const [searchState, setSearchs] = useState({});\n  const [dayStates, setdayStates] = useState({});\n\n  useEffect(() =>{\n      navigator.geolocation.getCurrentPosition( function(position) {\n      const latitude = position.coords.latitude;\n      const longitude = position.coords.longitude;\n\n      console.log(`${api.current}${latitude},${longitude}`)\n      fetch(`${api.current}${latitude},${longitude}`,{mode: 'cors'})\n      .then(response => response.json()).then(data => {\n        let currentLocationWoeid = data[0].woeid;\n          fetch(`${api.location}${currentLocationWoeid}`,{mode: 'cors'})\n          .then(response => response.json()).then(data => {\n            console.log(data);\n            setdayStates({...data, searchDisplay: false});\n        });\n      });\n    })},[]);\n\n  const search = (e) =>{\n    if(e.key === 'Enter'){\n      const string = e.target.value;\n      const toSearch = string.charAt(0).toUpperCase() + string.slice(1);\n      fetch(`${api.base}${toSearch}`,{mode: 'cors'})\n        .then(response => response.json()).then(data => {\n          setSearchs(data);\n        });\n    }\n  };\n\n  const select = (e) =>{\n    const woeid = searchState[e.target.id].woeid;\n    console.log(searchState[e.target.id].woeid);\n      fetch(`${api.location}${woeid}`,{mode: 'cors'})\n        .then(response => response.json()).then(data => {\n          console.log(data);\n          setdayStates({...data,searchDisplay: false});\n        });\n  };\n\n  const displaySearch = () =>{\n    setdayStates({...dayStates,searchDisplay: true});\n  }\n\n  return (\n    <div className=\"App\">\n      {\n        dayStates.searchDisplay ? (\n          <Search  searchEvent={search} searchs={searchState} selected={select}/>):\n        <Today  data={dayStates.consolidated_weather ? dayStates.consolidated_weather[0]: null} title={dayStates.title} click={displaySearch}  />\n      }\n        <Days   days={dayStates.consolidated_weather ? dayStates.consolidated_weather.slice(1): null}  />\n        <Highlights lassName={style.highlights} data={dayStates.consolidated_weather ? dayStates.consolidated_weather[0]: null}  />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}